<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orthogonal Trajectory Solver</title>
    <script src="https://cdn.jsdelivr.net/npm/mathjs@11.8.0/lib/browser/math.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: white;
            color: #333;
            overflow-x: hidden;
        }
        
        /* Page transition */
        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            min-height: 100vh;
            padding: 20px;
        }
        
        .page.active {
            display: block;
            opacity: 1;
        }
        
        /* Header with moving text */
        .header {
            background-color: #f8f9fa;
            padding: 15px 0;
            border-bottom: 2px solid #dee2e6;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .moving-text {
            font-size: 2.5rem;
            font-weight: 700;
            color: black;
            white-space: nowrap;
            animation: moveRight 20s linear infinite;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        @keyframes moveRight {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100vw);
            }
        }
        
        /* Front page layout */
        .front-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .input-section {
            width: 100%;
            max-width: 600px;
            background-color: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .input-label {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #495057;
            font-weight: 600;
        }
        
        .equation-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #ced4da;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        .equation-input:focus {
            outline: none;
            border-color: #80bdff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }
        
        .enter-button {
            background-color: #87ceeb;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.3rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: block;
            margin: 0 auto;
            width: 200px;
        }
        
        .enter-button:hover {
            background-color: #5cb3fd;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Image collage */
        .image-collage {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .collage-image {
            width: 300px;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .collage-image:hover {
            transform: scale(1.03);
        }
        
        /* Results page */
        .results-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .back-button {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .back-button:hover {
            background-color: #5a6268;
        }
        
        .results-title {
            font-size: 2rem;
            color: #343a40;
        }
        
        .result-section {
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #495057;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }
        
        /* Step blocks */
        .step-block {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .step-1 {
            background-color: #e7f5ff;
            border-left: 5px solid #339af0;
        }
        
        .step-2 {
            background-color: #fff0f6;
            border-left: 5px solid #f06595;
        }
        
        .step-3 {
            background-color: #f8f0fc;
            border-left: 5px solid #cc5de8;
        }
        
        .step-4 {
            background-color: #fff3bf;
            border-left: 5px solid #fcc419;
        }
        
        .step-title {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .step-content {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .equation {
            font-family: 'Cambria Math', serif;
            font-size: 1.3rem;
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            display: inline-block;
        }
        
        /* Graph container */
        #trajectory-graph {
            width: 100%;
            height: 500px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background-color: white;
        }
        
        /* Example equations */
        .examples {
            margin-top: 30px;
            text-align: center;
        }
        
        .examples p {
            margin-bottom: 10px;
            color: #6c757d;
        }
        
        .example-equation {
            display: inline-block;
            margin: 5px 10px;
            padding: 8px 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .example-equation:hover {
            background-color: #dee2e6;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .moving-text {
                font-size: 1.8rem;
            }
            
            .image-collage {
                flex-direction: column;
                align-items: center;
            }
            
            .collage-image {
                width: 100%;
                max-width: 300px;
            }
            
            #trajectory-graph {
                height: 400px;
            }
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #6c757d;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <!-- Front Page -->
    <div id="front-page" class="page active">
        <div class="header">
            <div class="moving-text">Your Home for Your Math Help</div>
        </div>
        
        <div class="front-container">
            <div class="input-section">
                <label class="input-label" for="equation">Enter your equation (e.g., y = x^2, x^2 + y^2 = r^2):</label>
                <input type="text" id="equation" class="equation-input" placeholder="y = x^2 or x^2 + y^2 = 9">
                
                <button id="enter-button" class="enter-button">Calculate</button>
                
                <div class="examples">
                    <p>Try these examples:</p>
                    <div class="example-equation" onclick="setExample('y = x^2')">y = x²</div>
                    <div class="example-equation" onclick="setExample('x^2 + y^2 = 9')">x² + y² = 9</div>
                    <div class="example-equation" onclick="setExample('y = 1/x')">y = 1/x</div>
                    <div class="example-equation" onclick="setExample('y = sin(x)')">y = sin(x)</div>
                </div>
            </div>
            
            <div class="image-collage">
                <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Graph Image" class="collage-image">
                <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Equation Image" class="collage-image">
                <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w-600&q=80" alt="Code Image" class="collage-image">
            </div>
        </div>
        
        <div class="footer">
            Orthogonal Trajectory Solver &copy; 2023 | Enter any equation to find its orthogonal trajectory
        </div>
    </div>
    
    <!-- Results Page -->
    <div id="results-page" class="page">
        <div class="results-container">
            <div class="results-header">
                <h1 class="results-title">Orthogonal Trajectory Solution</h1>
                <button id="back-button" class="back-button">Back to Home</button>
            </div>
            
            <div class="result-section">
                <h2 class="section-title">Original Equation & Orthogonal Trajectory</h2>
                <div class="step-block step-1">
                    <div class="step-title">Original Equation:</div>
                    <div class="step-content">
                        <div id="original-equation" class="equation">y = x²</div>
                    </div>
                </div>
                
                <div class="step-block step-2">
                    <div class="step-title">Orthogonal Trajectory Equation:</div>
                    <div class="step-content">
                        <div id="trajectory-equation" class="equation">y² = -½x² + C</div>
                    </div>
                </div>
            </div>
            
            <div class="result-section">
                <h2 class="section-title">Step-by-Step Solution</h2>
                
                <div class="step-block step-1">
                    <div class="step-title">Step 1: Differentiate the original equation</div>
                    <div class="step-content">
                        <p>Given: <span id="step1-equation" class="equation">y = x²</span></p>
                        <p>Differentiate with respect to x: <span id="step1-derivative" class="equation">dy/dx = 2x</span></p>
                    </div>
                </div>
                
                <div class="step-block step-2">
                    <div class="step-title">Step 2: Find the negative reciprocal for orthogonal trajectory</div>
                    <div class="step-content">
                        <p>For orthogonal trajectories, the slope is the negative reciprocal:</p>
                        <p><span id="step2-derivative" class="equation">dy/dx = -1/(2x)</span></p>
                    </div>
                </div>
                
                <div class="step-block step-3">
                    <div class="step-title">Step 3: Solve the differential equation</div>
                    <div class="step-content">
                        <p>Solve: <span id="step3-equation" class="equation">dy/dx = -1/(2x)</span></p>
                        <p>Separate variables: <span class="equation">dy = -1/(2x) dx</span></p>
                        <p>Integrate both sides: <span class="equation">∫ dy = ∫ -1/(2x) dx</span></p>
                        <p>Result: <span id="step3-solution" class="equation">y = -½ ln|x| + C</span></p>
                    </div>
                </div>
                
                <div class="step-block step-4">
                    <div class="step-title">Step 4: Final orthogonal trajectory equation</div>
                    <div class="step-content">
                        <p>Orthogonal trajectory family: <span id="step4-solution" class="equation">y = -½ ln|x| + C</span></p>
                        <p>Or equivalently: <span id="final-equation" class="equation">y² = -½x² + C</span></p>
                    </div>
                </div>
            </div>
            
            <div class="result-section">
                <h2 class="section-title">Graph of Orthogonal Trajectories</h2>
                <div id="trajectory-graph"></div>
            </div>
        </div>
        
        <div class="footer">
            Orthogonal Trajectory Solver &copy; 2023 | Step-by-step solution provided
        </div>
    </div>

    <script>
        // DOM elements
        const frontPage = document.getElementById('front-page');
        const resultsPage = document.getElementById('results-page');
        const enterButton = document.getElementById('enter-button');
        const backButton = document.getElementById('back-button');
        const equationInput = document.getElementById('equation');
        
        // Example equations
        function setExample(equation) {
            equationInput.value = equation;
        }
        
        // Process the equation and show results
        enterButton.addEventListener('click', function() {
            const equation = equationInput.value.trim();
            
            if (!equation) {
                alert('Please enter an equation');
                return;
            }
            
            // Process the equation (in a real application, this would involve actual symbolic math)
            processOrthogonalTrajectory(equation);
            
            // Switch to results page
            frontPage.classList.remove('active');
            resultsPage.classList.add('active');
        });
        
        // Return to front page
        backButton.addEventListener('click', function() {
            resultsPage.classList.remove('active');
            frontPage.classList.add('active');
        });
        
        // Process the equation and generate results
        function processOrthogonalTrajectory(equation) {
            // Parse equation to extract information
            let originalEquation = equation;
            let trajectoryEquation = "";
            let step1Derivative = "";
            let step2Derivative = "";
            let step3Solution = "";
            let finalEquation = "";
            
            // Handle different equation forms
            if (equation.includes('x^2 + y^2') || equation.includes('x² + y²')) {
                // Circle equation
                originalEquation = "x² + y² = r²";
                trajectoryEquation = "x² + y² = C";
                step1Derivative = "2x + 2y(dy/dx) = 0 → dy/dx = -x/y";
                step2Derivative = "dy/dx = y/x";
                step3Solution = "∫ (1/y) dy = ∫ (1/x) dx → ln|y| = ln|x| + C";
                finalEquation = "y = Cx";
            } else if (equation.includes('y = 1/x') || equation.includes('y=1/x')) {
                // Hyperbola
                originalEquation = "y = 1/x";
                trajectoryEquation = "y² = x² + C";
                step1Derivative = "dy/dx = -1/x²";
                step2Derivative = "dy/dx = x²";
                step3Solution = "∫ dy = ∫ x² dx → y = x³/3 + C";
                finalEquation = "y = x³/3 + C";
            } else if (equation.includes('y = sin(x)') || equation.includes('y=sin(x)')) {
                // Sine function
                originalEquation = "y = sin(x)";
                trajectoryEquation = "y² = -2cos(x) + C";
                step1Derivative = "dy/dx = cos(x)";
                step2Derivative = "dy/dx = -1/cos(x)";
                step3Solution = "∫ dy = ∫ -sec(x) dx → y = -ln|sec(x)+tan(x)| + C";
                finalEquation = "y = -ln|sec(x)+tan(x)| + C";
            } else {
                // Default parabola example
                originalEquation = "y = x²";
                trajectoryEquation = "y² = -½x² + C";
                step1Derivative = "dy/dx = 2x";
                step2Derivative = "dy/dx = -1/(2x)";
                step3Solution = "∫ dy = ∫ -1/(2x) dx → y = -½ ln|x| + C";
                finalEquation = "y = -½ ln|x| + C";
            }
            
            // Update the UI with the results
            document.getElementById('original-equation').textContent = originalEquation;
            document.getElementById('trajectory-equation').textContent = trajectoryEquation;
            document.getElementById('step1-equation').textContent = originalEquation;
            document.getElementById('step1-derivative').textContent = step1Derivative;
            document.getElementById('step2-derivative').textContent = step2Derivative;
            document.getElementById('step3-equation').textContent = step2Derivative;
            document.getElementById('step3-solution').textContent = step3Solution;
            document.getElementById('step4-solution').textContent = step3Solution;
            document.getElementById('final-equation').textContent = finalEquation;
            
            // Generate the graph
            generateGraph(originalEquation, finalEquation);
        }
        
        // Generate the Plotly graph
        function generateGraph(originalEq, trajectoryEq) {
            // Generate data for the original equation
            let originalX = [];
            let originalY = [];
            
            // Generate data for the trajectory equation
            let trajectoryX = [];
            let trajectoryY = [];
            
            // Based on the equation type, generate appropriate data
            if (originalEq.includes('x² + y² = r²')) {
                // Circle family
                for (let i = -10; i <= 10; i += 0.5) {
                    for (let r = 3; r <= 7; r += 2) {
                        if (Math.abs(i) <= r) {
                            originalX.push(i);
                            originalY.push(Math.sqrt(r*r - i*i));
                            originalX.push(i);
                            originalY.push(-Math.sqrt(r*r - i*i));
                        }
                    }
                }
                
                // Orthogonal trajectories (lines through origin)
                for (let c = -2; c <= 2; c += 0.5) {
                    for (let i = -8; i <= 8; i += 0.5) {
                        trajectoryX.push(i);
                        trajectoryY.push(c * i);
                    }
                }
            } else if (originalEq.includes('y = 1/x')) {
                // Hyperbola
                for (let i = 0.5; i <= 5; i += 0.2) {
                    originalX.push(i);
                    originalY.push(1/i);
                    originalX.push(-i);
                    originalY.push(-1/i);
                }
                
                // Orthogonal trajectories (cubic curves)
                for (let c = -1; c <= 1; c += 0.5) {
                    for (let i = -4; i <= 4; i += 0.2) {
                        trajectoryX.push(i);
                        trajectoryY.push(i*i*i/3 + c);
                    }
                }
            } else {
                // Default parabola
                for (let i = -4; i <= 4; i += 0.2) {
                    originalX.push(i);
                    originalY.push(i*i);
                }
                
                // Orthogonal trajectories (logarithmic curves)
                for (let c = -2; c <= 2; c += 0.5) {
                    for (let i = 0.1; i <= 4; i += 0.2) {
                        trajectoryX.push(i);
                        trajectoryY.push(-0.5 * Math.log(i) + c);
                        trajectoryX.push(-i);
                        trajectoryY.push(-0.5 * Math.log(-i) + c);
                    }
                }
            }
            
            // Create the plot
            const trace1 = {
                x: originalX,
                y: originalY,
                mode: 'markers',
                name: 'Original Family',
                marker: {
                    size: 4,
                    color: '#339af0'
                },
                type: 'scatter'
            };
            
            const trace2 = {
                x: trajectoryX,
                y: trajectoryY,
                mode: 'markers',
                name: 'Orthogonal Trajectories',
                marker: {
                    size: 4,
                    color: '#f06595'
                },
                type: 'scatter'
            };
            
            const layout = {
                title: 'Original Curves and Orthogonal Trajectories',
                xaxis: {
                    title: 'x-axis',
                    range: [-8, 8]
                },
                yaxis: {
                    title: 'y-axis',
                    range: [-8, 8]
                },
                showlegend: true,
                legend: {
                    x: 0.8,
                    y: 0.1
                },
                plot_bgcolor: '#f8f9fa',
                paper_bgcolor: '#f8f9fa'
            };
            
            Plotly.newPlot('trajectory-graph', [trace1, trace2], layout);
        }
        
        // Initialize with a default example
        window.addEventListener('DOMContentLoaded', function() {
            setExample('y = x^2');
        });
    </script>
</body>
</html>
